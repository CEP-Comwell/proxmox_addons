# ANSIBLE MANAGED LINUX BRIDGES - DO NOT EDIT MANUALLY
{% for bridge in linux_bridges %}
auto {{ bridge.name }}
iface {{ bridge.name }} inet manual
    {# Support both 'ports' (list) and 'parent' (string) for bridge port assignment #}
    {% if bridge.ports is defined and bridge.ports|length > 0 %}
    bridge-ports {{ bridge.ports | join(' ') }}
    {% elif bridge.parent is defined and bridge.parent|length > 0 %}
    bridge-ports {{ bridge.parent }}
    {% endif %}
    bridge-stp off
    bridge-fd 0
    {% if bridge.vlan_aware is defined and bridge.vlan_aware %}bridge-vlan-aware yes{% endif %}
    {% if bridge.mtu is defined %}mtu {{ bridge.mtu }}{% endif %}
{% endfor %}
