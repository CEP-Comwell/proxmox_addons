[Unit]
Description=OVN full stack (NB/SB/northd/controller) for standalone node
After=network.target

[Service]
Type=simple
ExecStart=/usr/share/ovn/scripts/ovn-ctl {% if use_tcp %} --db-nb-addr=127.0.0.1 --db-nb-port={{ nb_port }} --db-nb-create-insecure-remote=yes --db-sb-addr=127.0.0.1 --db-sb-port={{ sb_port }} --db-sb-create-insecure-remote=yes start_northd{% else %} start_northd{% endif %}
ExecStartPost=/usr/share/ovn/scripts/ovn-ctl start_controller
ExecStop=/usr/share/ovn/scripts/ovn-ctl stop_northd
ExecStopPost=/usr/share/ovn/scripts/ovn-ctl stop_controller
RemainAfterExit=yes

[Install]
WantedBy=multi-user.target
