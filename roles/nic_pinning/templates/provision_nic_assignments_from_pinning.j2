# Suggested provision assignments generated by nic_pinning role for host {{ inventory_hostname }}
---
detected_interfaces:
{% for k in nic_names.keys() %}
  - {{ k }}
{% endfor %}

{% if protected_mgmt_iface is defined and protected_mgmt_iface != '' %}
protected_management_interface: {{ protected_mgmt_iface }}
protected_management_mac: {{ protected_mgmt_mac | default('') }}
{% endif %}

bridges:
  - {{ mgmt_bridge }}
  - {{ vm_bridge }}
  - {{ ext_bridge }}

# Suggested assignments using normalized names produced by nic_pinning
bridge_assignments:
{% for bridge, ifaces in bridge_assignments.items() %}
  {{ bridge }}:
{% for iface in ifaces %}
    - {{ iface }}
{% endfor %}
{% endfor %}
