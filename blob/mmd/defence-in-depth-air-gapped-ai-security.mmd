flowchart TD
    %% Layer Definitions
    A[Layer 1: Outer Perimeter<br/>Physical Site Security]:::outer
    B[Layer 2: Facility Core<br/>Server/AI Hardware Room]:::facility
    C[Layer 3: Network Isolation<br/>Air-Gap Enforcement]:::isolation
 
    D1[Layer 4a: ENROLL VLAN<br/>Quarantine / NAC / RADIUS]:::enroll
    D2[Layer 4b: GUEST VLAN<br/>Internet-Only, Segregated]:::guest
    D3[Layer 4c: LAN VLAN<br/>Trusted Ops Network]:::lan
 
    E[Layer 5: Logical Access Zone<br/>RBAC-Tenant APIs]:::logical
    F[Layer 6: Data Sensitivity Core<br/>Model Weights & Sensitive Data]:::core
 
    X[(No Internal Access)]:::noaccess
 
    %% Flow
    A --> B --> C
    C --> D1 --> D3 --> E --> F
    C --> D2
    D2 -.segregated.-> X
 
    %% Role Swimlanes (color ties to RBAC)
    classDef outer fill:#d9e6f2,stroke:#1b4d89,stroke-width:2px;
    classDef facility fill:#b7d7a8,stroke:#38761d,stroke-width:2px;
    classDef isolation fill:#ffe599,stroke:#b45f06,stroke-width:2px;
    classDef enroll fill:#f9cb9c,stroke:#783f04,stroke-width:2px;
    classDef guest fill:#f4cccc,stroke:#990000,stroke-width:2px;
    classDef lan fill:#cfe2f3,stroke:#134f5c,stroke-width:2px;
    classDef logical fill:#d5a6bd,stroke:#741b47,stroke-width:2px;
    classDef core fill:#b4a7d6,stroke:#351c75,stroke-width:2px;
    classDef noaccess fill:#eeeeee,stroke:#999999,stroke-dasharray: 5 5;
 
    %% Role Legends
    click A "Role: None" _blank
    click B "Role: Engineering" _blank
    click C "Roles: Engineering, Management (supervised)" _blank
    click D1 "Roles: Engineering (admin), Support" _blank
    click D2 "Roles: Tenant roles, guests" _blank
    click D3 "Roles: All internal RBAC roles" _blank
    click E "Roles: TenantID, Tenantâ€‘Role1/2, Support, Mgmt, Eng" _blank
    click F "Roles: Engineering (write/manage), Mgmt (read)" _blank