# vmbr definitions for pve2.comwell.edgesec.ca
# Derived from pve1.comwell.edgesec.ca as a template â€” verify physical
# interface names and addresses on pve2 before applying network pinning.
bridges:
  - name: vmbr99
    type: OVSBridge
    bridge_ports:
      - ens2f0   # verify: physical NIC on pve2 for management
    mtu: 9000
    vlan_aware: true
    subinterfaces:
      - name: vxlan10031
        type: vxlan
        options:
          id: 10031
          mtu: 1400
  - name: vmbr1
    type: OVSBridge
    bridge_ports:
      - eth1     # verify: tenant NIC on pve2
    mtu: 9000
    vlan_aware: true
    subinterfaces:
      - name: vxlan9006
        type: vxlan
        options:
          id: 9006
          mtu: 1400
      - name: vxlan9003
        type: vxlan
        options:
          id: 9003
          mtu: 1400
  - name: vmbr2
    type: Bridge
    bridge_ports:
      - xg1      # verify: uplink/gateway NIC on pve2
    mtu: 1420
    subinterfaces:
      - name: gateway1
        type: vlan
        options:
          tag: 100
      - name: gateway2
        type: vlan
        options:
          tag: 200
      - name: vmbr2.11
        type: vlan
        options:
          tag: 11
          address: 172.16.11.21/24   # TODO: adjust for pve2
      - name: vmbr2.100
        type: vlan
        options:
          tag: 100
          address: 10.10.31.21/24    # TODO: adjust for pve2
