# Cleaned vmbr definitions for pve2.comwell.edgesec.ca
# Generated from pve1 baseline and cleaned. Verify physical interface names
# and address assignments before applying.
bridges:
  - name: vmbr99
    type: OVSBridge
    bridge_ports:
      - eth4   # verify: physical NIC on pve2 for management
    mtu: 9000
    vlan_aware: true
    subinterfaces:
      - name: vxlan10031
        type: vxlan
        options:
          id: 10031
          mtu: 1400

  - name: vmbr1
    type: OVSBridge
    bridge_ports:
      - eth2     # tenant NIC (verify)
    mtu: 9000
    vlan_aware: true
    subinterfaces:
      - name: vxlan9006
        type: vxlan
        options:
          id: 9006
          mtu: 1400
      - name: vxlan9003
        type: vxlan
        options:
          id: 9003
          mtu: 1400

  - name: vmbr2
    type: Bridge
    # User requested: map vmbr2 to eth1 on pve2
    bridge_ports:
      - eth1
    mtu: 1420
    subinterfaces:
      # gateway1 and gateway2 intentionally removed to avoid creating
      # logical interfaces that do not match kernel device names on pve2.
      # If you need VLAN-based gateway logical interfaces, define them
      # with the correct names that exist on the host.
      - name: vmbr2.11
        type: vlan
        options:
          tag: 11
          address: 172.16.12.20/24    # pve2 site example — verify before apply
      - name: vmbr2.100
        type: vlan
        options:
          tag: 100
          address: 10.10.32.20/24     # pve2 site example — verify before apply
